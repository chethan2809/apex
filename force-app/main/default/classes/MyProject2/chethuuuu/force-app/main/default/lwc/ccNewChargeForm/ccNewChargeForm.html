<template>
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
        <div class="slds-modal__container">
            <header class="slds-modal__header">
                <lightning-button-icon icon-name="utility:close" class="slds-float_right" onclick={closeModal} alternative-text="close"></lightning-button-icon>
                <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">New Charge</h2>
            </header>
            <div class="form-bgcolor slds-var-p-around_small">
                <div class="slds-p-bottom_small slds-p-around_small">
                    <div class="slds-grid slds-wrap slds-gutters">
                        <div class="slds-col slds-size_1-of-1">
                            <span class="slds-form-element__label">&nbsp;Loan</span><br/>
                            &nbsp;{contractName}
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-combobox data-name="chargeType" name="chargeType" label="Fee Type" placeholder="Fee Type" options={feeTypes} required onchange={handleFeeTypeChange}>
                            </lightning-combobox>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-input type="date" name="chargeDate" label="Date" required onchange={handleDateChange}>
                            </lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-textarea label="Reference" onchange={handleReferenceChange}>
                            </lightning-textarea>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-input type="number" label="Original Amount" formatter="currency" step="0.01" pattern="^([1-9]\d*)(\.\d+)?$" message-when-pattern-mismatch="Only positive numbers allowed" required onchange={handleChargeAmountChange}>
                            </lightning-input>
                        </div>
                    </div>
                </div>
                <div class="slds-col slds-size_12-of-12 slds-align_absolute-center slds-p-bottom_small">
                    <lightning-button variant="brand" data-name="submitButton" name="save" label="Save" onclick={handleSave}>
                    </lightning-button>
                    <div class="slds-p-left_small">
                        <lightning-button class="slds-m-top_small" variant="brand" name="close" label="Close" onclick={closeModal}>
                        </lightning-button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
</template>
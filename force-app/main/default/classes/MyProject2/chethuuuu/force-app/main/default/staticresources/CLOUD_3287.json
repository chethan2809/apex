[{"attributes":{"type":"skuid__Page__c","url":"/services/data/v42.0/sobjects/skuid__Page__c/a6L3K00000052LKUAY"},"Id":"a6L3K00000052LKUAY","Name":"CAN_Parties","skuid__API_Version__c":"v1","skuid__Type__c":"Desktop","skuid__UniqueId__c":"_CAN_Parties","skuid__Module__c":null,"skuid__Composer_Settings__c":null,"skuid__MasterPage__c":null,"skuid__MasterPage__r":null,"skuid__IsMaster__c":false,"skuid__Layout__c":"<skuidpage unsavedchangeswarning=\"yes\" showsidebar=\"true\" showheader=\"true\" personalizationmode=\"server\">\n  <models>\n    <model id=\"Application\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" sobject=\"genesis__Applications__c\" doclone=\"\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"genesis__Account__r.Id\"/>\n        <field id=\"genesis__Account__c\"/>\n        <field id=\"genesis__Account__r.Name\"/>\n        <field id=\"genesis__Contact__c\"/>\n        <field id=\"genesis__Contact__r.Name\"/>\n        <field id=\"Id\"/>\n      \n</fields>\n      <conditions>\n        <condition type=\"param\" value=\"id\" field=\"Id\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"Party\" limit=\"\" query=\"true\" createrowifnonefound=\"false\" sobject=\"clcommon__Party__c\" doclone=\"\" datasource=\"salesforce\" orderby=\"CreatedDate ASC\">\n      <fields>\n        <field id=\"Name\"/>\n        <field id=\"clcommon__Party_Type__c\"/>\n        <field id=\"genesis__Application__c\"/>\n        <field id=\"genesis__Application__r.Name\"/>\n        <field id=\"clcommon__Contact__c\"/>\n        <field id=\"clcommon__Contact__r.Name\"/>\n        <field id=\"clcommon__Account__c\"/>\n        <field id=\"clcommon__Account__r.Name\"/>\n        <field id=\"clcommon__User__c\"/>\n        <field id=\"clcommon__User__r.Name\"/>\n        <field id=\"genesis__Is_Internal_User__c\"/>\n        <field id=\"clcommon__Type__c\"/>\n        <field id=\"clcommon__Type__r.Name\"/>\n      \n<field id=\"clcommon__isPrimary__c\"/><field id=\"Credit_Report_Message\" uionly=\"true\" displaytype=\"FORMULA\" length=\"255\" ogdisplaytype=\"TEXT\" readonly=\"true\" returntype=\"TEXT\" label=\"Credit Report Message\"><formula>{{clcommon__Contact__r.Credit_Report_Message__c}}</formula></field><field id=\"clcommon__Contact__r.Credit_Report_Message__c\"/><field id=\"Beneficial_Owner_Type__c\"/><field id=\"Competitor_Amount__c\"/><field id=\"Competitor_Bank_Account__c\"/><field id=\"Competitor_Bank_Account__r.Name\"/><field id=\"Competitor_Payment_Mode__c\"/><field id=\"Competitor_Payment_Mode__r.Name\"/></fields>\n      <conditions>\n        <condition type=\"param\" value=\"id\" field=\"genesis__Application__c\" operator=\"=\" enclosevalueinquotes=\"true\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions>\n        <action>\n          <actions>\n            <action type=\"createRow\" model=\"AccountM\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\"/>\n            <action type=\"createRow\" model=\"ContactM\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\"/>\n            <action type=\"createRow\" model=\"BusinessInfo\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\"/>\n          <action type=\"updateRow\" fieldmodel=\"Party\" affectedrows=\"context\" field=\"CurrencyIsoCode\" enclosevalueinquotes=\"true\" value=\"{{$Model.Application.data.0.CurrencyIsoCode}}\"/>\n</actions>\n          <events>\n            <event>row.created</event>\n          </events>\n        </action>\n        <action>\n          <actions>\n            <action type=\"emptyModelData\">\n              <models>\n                <model>AccountM</model>\n                <model>BusinessInfo</model>\n                <model>ContactM</model>\n              </models>\n            </action>\n          </actions>\n          <events>\n            <event>models.saved</event>\n          </events>\n        </action>\n      </actions>\n    </model>\n    <model id=\"AccountM\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" sobject=\"Account\" doclone=\"\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"Name\"/>\n        <field id=\"genesis__Business_Information__c\"/>\n        <field id=\"genesis__Business_Information__r.Name\"/>\n        <field id=\"Id\"/>\n        <field id=\"genesis__Business_Information__r.Id\"/>\n      </fields>\n      <conditions logic=\"(1 AND 2)\">\n        <condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"Party\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Account__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"BusinessInfo\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" sobject=\"genesis__Business_Information__c\" doclone=\"\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"genesis__Business_Legal_Name__c\"/>\n        <field id=\"genesis__DBA_Name__c\"/>\n        <field id=\"Name\"/>\n        <field id=\"genesis__Email__c\"/>\n        <field id=\"genesis__Mailing_City__c\"/>\n        <field id=\"genesis__Mailing_State__c\"/>\n        <field id=\"genesis__Mailing_Street__c\"/>\n        <field id=\"genesis__Mailing_Zipcode__c\"/>\n        <field id=\"genesis__Business_Category__c\"/>\n        <field id=\"genesis__Business_City__c\"/>\n        <field id=\"genesis__Business_Description__c\"/>\n        <field id=\"genesis__Business_State__c\"/>\n        <field id=\"genesis__Business_Street__c\"/>\n        <field id=\"genesis__Business_Zipcode__c\"/>\n        <field id=\"genesis__Date_Business_Established__c\"/>\n        <field id=\"genesis__Entity_Type__c\"/>\n        <field id=\"genesis__State_of_Incorporation__c\"/>\n        <field id=\"genesis__Tax_I_D__c\"/>\n        <field id=\"genesis__Telephone__c\"/>\n        <field id=\"Id\"/>\n      </fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"AccountM\" enclosevalueinquotes=\"true\" mergefield=\"genesis__Business_Information__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n    <model id=\"ContactM\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" sobject=\"Contact\" doclone=\"\" datasource=\"salesforce\">\n      <fields>\n        <field id=\"FirstName\"/>\n        <field id=\"LastName\"/>\n        \n        \n        <field id=\"Email\"/>\n        <field id=\"Name\"/>\n        <field id=\"Id\"/>\n        \n        \n        \n        \n        \n        \n        \n        \n        \n        \n      </fields>\n      <conditions>\n        <condition type=\"modelmerge\" value=\"\" field=\"Id\" operator=\"=\" model=\"Party\" enclosevalueinquotes=\"true\" mergefield=\"clcommon__Contact__c\" novaluebehavior=\"noquery\"/>\n      </conditions>\n      <actions/>\n    </model>\n  <model id=\"CompetitorPartType\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"clcommon__Party_Type__c\"><fields><field id=\"Id\"/><field id=\"Name\"/></fields><conditions><condition type=\"fieldvalue\" value=\"COMPETITOR\" enclosevalueinquotes=\"true\" field=\"Name\"/></conditions><actions/></model><model id=\"NewCompetitorParty\" limit=\"\" query=\"false\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"clcommon__Party__c\"><fields><field id=\"clcommon__Account__c\"/><field id=\"clcommon__Account__r.Name\"/><field id=\"clcommon__Type__c\"/><field id=\"clcommon__Type__r.Name\"/><field id=\"genesis__Application__c\"/><field id=\"genesis__Application__r.Name\"/><field id=\"Competitor_Amount__c\"/><field id=\"Competitor_Bank_Account__c\"/><field id=\"Competitor_Bank_Account__r.Name\"/><field id=\"Competitor_Payment_Mode__c\"/><field id=\"Competitor_Payment_Mode__r.Name\"/></fields><conditions><condition type=\"blank\" value=\"null\" operator=\"=\" field=\"Id\" enclosevalueinquotes=\"false\"/></conditions><actions><action><actions><action type=\"updateRow\" fieldmodel=\"NewCompetitorParty\" affectedrows=\"context\"><updates><update valuesource=\"modelmerge\" field=\"clcommon__Type__c\" fieldtargetobjects=\"clcommon__Party_Type__c\" enclosevalueinquotes=\"true\" sourcemodel=\"CompetitorPartType\" sourcefield=\"Id\"/><update valuesource=\"modelmerge\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" sourcemodel=\"Application\" sourcefield=\"Id\"/><update valuesource=\"modelmerge\" field=\"Competitor_Payment_Mode__c\" fieldtargetobjects=\"loan__Payment_Mode__c\" enclosevalueinquotes=\"true\" sourcemodel=\"ACHPaymentMode\" sourcefield=\"Id\"/></updates></action></actions><events><event>row.created</event></events></action></actions></model><model id=\"ACHPaymentMode\" limit=\"1\" query=\"true\" createrowifnonefound=\"false\" datasource=\"salesforce\" sobject=\"loan__Payment_Mode__c\"><fields><field id=\"Id\"/><field id=\"Name\"/></fields><conditions><condition type=\"fieldvalue\" value=\"ACH\" enclosevalueinquotes=\"true\" field=\"Name\"/></conditions><actions/></model></models>\n  <components>\n    <skootable showconditions=\"true\" showsavecancel=\"true\" searchmethod=\"server\" searchbox=\"true\" showexportbuttons=\"false\" pagesize=\"10\" createrecords=\"false\" model=\"Party\" mode=\"read\" emptysearchbehavior=\"query\" uniqueid=\"sk-3udKBA-71\">\n      <fields>\n        <field id=\"Name\" uniqueid=\"fi-3k4Xhj-191\" showbydefault=\"false\"/>\n        <field id=\"clcommon__Account__c\" uniqueid=\"fi-3k4Xhj-192\" showbydefault=\"false\"/>\n        <field id=\"clcommon__Contact__c\" uniqueid=\"fi-3k4Xhj-193\" showbydefault=\"false\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field id=\"clcommon__isPrimary__c\" hideable=\"false\" uniqueid=\"fi-2IFQ-434\" showbydefault=\"false\"/>\n        \n        <field id=\"clcommon__Type__c\" uniqueid=\"fi-3k4Xhj-195\" showbydefault=\"false\"/><field id=\"Beneficial_Owner_Type__c\" hideable=\"false\" uniqueid=\"fi-1_Dz-440\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions logictype=\"and\"><condition type=\"multiple\" operator=\"in\" fieldmodel=\"Party\" sourcetype=\"fieldvalue\" field=\"clcommon__Type__r.Name\" value=\"\" enclosevalueinquotes=\"true\"><values><value>CONTACT</value><value>GUARANTOR</value></values></condition></enableconditions></field><field id=\"clcommon__Contact__r.Credit_Report_Message__c\" hideable=\"false\" uniqueid=\"fi-2Z79-800\" showbydefault=\"false\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field>\n        \n      <field id=\"Competitor_Amount__c\" hideable=\"false\" uniqueid=\"fi-oMw-1280\" showbydefault=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"Party\" sourcetype=\"fieldvalue\" value=\"COMPETITOR\" field=\"clcommon__Type__r.Name\"/></renderconditions><enableconditions/></field></fields>\n      <rowactions>\n        \n        \n        \n      <action type=\"delete\"><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"true\" fieldmodel=\"Party\" sourcetype=\"userinfo\" sourceuserinfotype=\"profilename\" value=\"UnderwriterLoanReadOnly\"/></renderconditions></action><action type=\"drawer\" label=\"View details\" icon=\"fa-chevron-circle-right\" openicon=\"fa-chevron-circle-down\"><drawer title=\"Drawer Area\" width=\"90%\" closehandle=\"true\"><components><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"Party\" uniqueid=\"sk-oNs-1433\" mode=\"read\"><columns><column width=\"33.3%\" uniqueid=\"sk-oNs-1429\"><sections><section title=\"Section A\" uniqueid=\"sk-oNs-1430\" collapsible=\"no\" showheader=\"false\"><fields><field uniqueid=\"sk-oNz-1469\" id=\"Competitor_Bank_Account__c\" showhelp=\"true\" required=\"true\"><filters><filter type=\"dependent\" operator=\"=\" field=\"loan__Account__c\" fieldtargetobjects=\"Account\" value=\"\" enclosevalueinquotes=\"true\" depfield=\"clcommon__Account__c\"/></filters></field></fields></section></sections></column><column width=\"33.3%\" uniqueid=\"sk-oNs-1431\"><sections><section title=\"Section B\" uniqueid=\"sk-oNs-1432\" collapsible=\"no\" showheader=\"false\"><fields><field uniqueid=\"sk-oNz-1468\" id=\"Competitor_Amount__c\" showhelp=\"true\" required=\"true\"/></fields></section></sections></column><column width=\"33.3%\" uniqueid=\"sk-3Yub-678\"><sections><section title=\"New Section\" collapsible=\"no\" uniqueid=\"sk-3Yub-679\" showheader=\"false\"><fields><field uniqueid=\"sk-3Yue-697\" id=\"Competitor_Payment_Mode__c\" required=\"true\"/></fields></section></sections></column></columns><conditions><condition type=\"contextrow\" field=\"Id\" mergefield=\"Id\" operator=\"=\"/></conditions></basicfieldeditor></components></drawer><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" fieldmodel=\"Party\" sourcetype=\"fieldvalue\" field=\"clcommon__Type__r.Name\" fieldtargetobjects=\"clcommon__Party_Type__c\" value=\"COMPETITOR\"/></renderconditions></action></rowactions>\n      <massactions usefirstitemasdefault=\"true\">\n        \n      </massactions>\n      <views>\n        <view type=\"standard\"/>\n      </views>\n      <searchfields usesosl=\"false\" soslfields=\"Name Fields\"/>\n      <actions defaultlabel=\"Add Parties\" usefirstitemasdefault=\"false\" defaulticon=\"sk-icon-add\"><action type=\"popup\" label=\"Create Guarantor &amp; Contact\" icon=\"sk-icon-add\"><popup title=\"Add New Parties\" width=\"90%\"><components><includepanel type=\"skuid\" uniqueid=\"sk-J1B-446\" querystring=\"?id={{$Model.Application.data.0.Id}}\" pagename=\"CAN_AddNewParties\"/></components></popup><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"true\" fieldmodel=\"Application\" sourcetype=\"userinfo\" nosourcerowbehavior=\"deactivate\" sourceuserinfotype=\"profilename\" value=\"UnderwriterLoanReadOnly\"/></renderconditions></action><action type=\"multi\" label=\"Add Competitor\" icon=\"sk-icon-assets\"><actions><action type=\"createRow\" model=\"NewCompetitorParty\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/><action type=\"showPopup\"><popup title=\"Add Competitor\" width=\"90%\"><components><buttonset model=\"NewCompetitorParty\" uniqueid=\"sk-Ut8-1278\"><buttons><button type=\"multi\" label=\"Save\" uniqueid=\"sk-Ut8-1284\" window=\"self\" icon=\"sk-icon-save\"><actions><action type=\"blockUI\" message=\"Please wait...\"/><action type=\"updateRow\" fieldmodel=\"NewCompetitorParty\" affectedrows=\"context\"><updates><update valuesource=\"modelmerge\" field=\"clcommon__Type__c\" fieldtargetobjects=\"clcommon__Party_Type__c\" enclosevalueinquotes=\"true\" sourcemodel=\"CompetitorPartType\" sourcefield=\"Id\"/><update valuesource=\"modelmerge\" field=\"genesis__Application__c\" fieldtargetobjects=\"genesis__Applications__c\" enclosevalueinquotes=\"true\" sourcemodel=\"Application\" sourcefield=\"Id\"/></updates></action><action type=\"save\"><models><model>NewCompetitorParty</model></models><onerroractions><action type=\"unblockUI\" message=\"There was an error\" timeout=\"3000\"/></onerroractions></action><action type=\"requeryModels\" behavior=\"standard\"><models><model>Party</model><model>NewCompetitorParty</model></models></action><action type=\"unblockUI\"/><action type=\"closeTopmostPopup\"/></actions><renderconditions logictype=\"and\"/><enableconditions logictype=\"and\"><condition type=\"fieldvalue\" enclosevalueinquotes=\"false\" fieldmodel=\"NewCompetitorParty\" sourcetype=\"rowproperty\" nosourcerowbehavior=\"deactivate\" sourceproperty=\"hasChanged\" value=\"true\" operator=\"=\"/></enableconditions></button><button type=\"multi\" label=\"Cancel\" uniqueid=\"sk-Ut8-1288\" window=\"self\" icon=\"sk-icon-cancel\"><actions><action type=\"cancel\"><models><model>NewCompetitorParty</model></models></action><action type=\"closeTopmostPopup\"/></actions></button></buttons><renderconditions logictype=\"and\"/></buttonset><basicfieldeditor showheader=\"true\" showsavecancel=\"false\" showerrorsinline=\"true\" model=\"NewCompetitorParty\" uniqueid=\"sk-UrH-944\" mode=\"edit\"><columns><column width=\"50%\" uniqueid=\"sk-UrH-940\"><sections><section title=\"Section A\" uniqueid=\"sk-UrH-941\" collapsible=\"no\" showheader=\"false\"><fields><field uniqueid=\"sk-UrM-970\" id=\"clcommon__Account__c\" required=\"true\" pagesize=\"5\" redirecttype=\"datasourcedefault\"><label>Competitor Account</label><searchfields/><filters><filter type=\"fieldvalue\" operator=\"=\" enclosevalueinquotes=\"true\" field=\"Type\" fieldtargetobjects=\"Account\" value=\"Competitor\"/></filters></field><field uniqueid=\"sk-oEw-468\" id=\"Competitor_Bank_Account__c\" showhelp=\"true\" pagesize=\"5\" redirecttype=\"datasourcedefault\" required=\"true\"><searchfields/><filters><filter type=\"dependent\" operator=\"=\" field=\"loan__Account__c\" fieldtargetobjects=\"Account\" value=\"\" enclosevalueinquotes=\"true\" depfield=\"clcommon__Account__c\"/></filters><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"NewCompetitorParty\" sourcetype=\"fieldvalue\" field=\"clcommon__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions logictype=\"and\"/></field></fields></section></sections></column><column width=\"50%\" uniqueid=\"sk-UwK-1883\"><sections><section title=\"New Section\" collapsible=\"no\" uniqueid=\"sk-UwK-1884\" showheader=\"false\"><fields><field uniqueid=\"sk-oEw-467\" id=\"Competitor_Amount__c\" showhelp=\"true\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"/><enableconditions/></field><field uniqueid=\"sk-3Yt_-574\" id=\"Competitor_Payment_Mode__c\" required=\"true\"><renderconditions logictype=\"and\" onhidedatabehavior=\"keep\"><rendercondition type=\"blank\" operator=\"!=\" fieldmodel=\"NewCompetitorParty\" sourcetype=\"fieldvalue\" field=\"clcommon__Account__c\" fieldtargetobjects=\"Account\" value=\"null\" enclosevalueinquotes=\"false\"/></renderconditions><enableconditions/></field></fields></section></sections></column></columns><renderconditions logictype=\"and\"/><conditions/></basicfieldeditor></components><afterclose><action type=\"cancel\"><models><model>NewCompetitorParty</model></models></action></afterclose></popup></action></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"true\" fieldmodel=\"Application\" sourcetype=\"userinfo\" nosourcerowbehavior=\"deactivate\" sourceuserinfotype=\"profilename\" value=\"UnderwriterLoanReadOnly\"/></renderconditions></action><action type=\"multi\" label=\"Add Existing Relationship\" icon=\"sk-icon-add-reference\"><actions><action type=\"createRow\" model=\"Party\" appendorprepend=\"prepend\" defaultmodefornewitems=\"edit\" affectedrows=\"context\"/></actions><renderconditions logictype=\"and\"><rendercondition type=\"fieldvalue\" operator=\"!=\" enclosevalueinquotes=\"true\" fieldmodel=\"Application\" sourcetype=\"userinfo\" nosourcerowbehavior=\"deactivate\" sourceuserinfotype=\"profilename\" value=\"UnderwriterLoanReadOnly\"/></renderconditions></action></actions>\n      <renderconditions logictype=\"and\"/>\n    </skootable>\n  </components>\n  <resources>\n    <labels/>\n    <javascript>\n      <jsitem location=\"external\" name=\"Ajax Toolkit\" cachelocation=\"false\" url=\" /soap/ajax/29.0/apex.js\">var params = arguments[0],\n  $ = skuid.$;\n</jsitem>\n      <jsitem location=\"inlinesnippet\" name=\"AddParty\" cachelocation=\"false\">  // var params = arguments[0],\n//  $ = skuid.$;\n\nvar item    = arguments[0].item,\n    list    = arguments[0].list,\n    model   = arguments[0].model;\n    var partyRow = arguments[0].row;\n//console.log(partyRow);    \n    \nvar businessInfoModel = skuid.model.getModel('BusinessInfo');\nvar bRow = businessInfoModel.data[0];\n//console.log(bRow);\n\nvar accountModel = skuid.model.getModel('AccountM');\nvar accRow = accountModel.data[0];\n//console.log(accRow);\n\nvar contactModel = skuid.model.getModel('ContactM');\nvar contactRow = contactModel.data[0];\n//console.log(contactRow);\n\nvar rowUpdates = new Object();\n//console.log('legal name : ' + bRow.genesis__Business_Legal_Name__c);\nif(bRow.genesis__Business_Legal_Name__c) {\n    console.log(businessInfoModel.hasChanged);\n    businessInfoModel.save({callback : function(result) {\n        if(result.totalsuccess) {\n            //console.log('businessInfo model saved');\n            rowUpdates['Name'] = bRow.genesis__Business_Legal_Name__c;\n            rowUpdates['genesis__Business_Information__c'] = bRow.Id;\n            rowUpdates['genesis__Business_Information__r'] = bRow;\n            \n            accountModel.updateRow(accRow, rowUpdates);\n            accountModel.save( {callback: function(result) {\n                if(result.totalsuccess) {\n                    //alert('data saved');\n                    if(contactRow.LastName) {\n                        var contactUpdates = new Object();\n                        contactUpdates['AccountId'] = accId;\n                        contactUpdates['Account'] = accountModel.data[0];\n                        contactModel.updateRow(contactRow, contactUpdates);\n                        contactModel.save({});\n                    }\n                    var accId = accountModel.data[0].Id;\n                    //alert(' accId : ' + accId);\n                    \n                    var partyUpdates = new Object();\n                    //alert('before update : ' + partyRow.genesis__Application__c + ' ' + partyRow.clcommon__Account__c);\n                    partyUpdates['clcommon__Account__c'] = accId;\n                    partyUpdates['clcommon__Account__r'] = accountModel.data[0];\n                    var partyModel = skuid.model.getModel('Party')\n                    partyModel.updateRow(partyRow, partyUpdates);\n                    partyModel.save({callback: function(result) {\n                        if(result.totalsuccess) {\n                        //alert('party data saved');\n                        }\n                    }});\n                    //console.log('partyRow : ' + partyRow);\n                    //alert('updated : ' + partyRow.clcommon__Account__c);\n                }\n            }}  );\n        }\n    }});\n} else if(contactRow.LastName) {\n     contactModel.save({callback: function(result) {\n        if(result.totalsuccess) {\n            //console.log('contact data saved');\n            var partyUpdates = new Object();\n            //alert('before update : ' + partyRow.genesis__Application__c + ' ' + partyRow.clcommon__Account__c);\n            partyUpdates['clcommon__Contact__c'] = contactModel.data[0].Id;\n            partyUpdates['clcommon__Contact__r'] = contactModel.data[0];\n            var partyModel = skuid.model.getModel('Party')\n            partyModel.updateRow(partyRow, partyUpdates);\n            partyModel.save({callback: function(result) {\n                if(result.totalsuccess) {\n                    //alert('party data saved');\n                }\n            }});\n        }\n    }});\n}\n\n\n//partyRow.genesis__Account__c\n//window.location.reload();</jsitem>\n    </javascript>\n    <css/>\n  <actionsequences uniqueid=\"sk-2IFP-430\"/></resources>\n  <styles>\n    <styleitem type=\"background\" bgtype=\"none\"/>\n  </styles>\n</skuidpage>","skuid__Layout2__c":null,"skuid__Layout3__c":null,"skuid__Layout4__c":null,"skuid__Layout5__c":null}]